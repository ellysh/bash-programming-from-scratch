## Инструменты для разработки

Чтобы запустить примеры этой главы, вам понадобится интерпретатор Bash и эмулятор терминала. Они доступны на всех современных ОС: Windows, macOS и Linux. Рассмотрим процесс установки и запуска этих программ.

### Интерпретатор Bash

Bash относится к [**скриптовым языкам программирования**](https://ru.wikipedia.org/wiki/Сценарный_язык). Для них характерны следующие особенности:

1. Скриптовые языки интерпретируются, а не компилируются.

2. Они оперируют готовыми программами или высокоуровневыми командами.

3. Они обычно интегрированы в командную оболочку или ОС.

Bash как скриптовый язык интегрирован в ОС Linux и macOS. Пользователям Windows для его корректной работы придётся установить минимальное Unix-окружение. Это можно сделать несколькими способами.

I> Термины "Unix-окружение" и "Linux-окружение" означают программную среду, совместимую с набором стандартов [POSIX](https://ru.wikipedia.org/wiki/POSIX) (Portable Operating System Interface). POSIX описывает интерфейсы взаимодействия прикладных программ с ОС.

Первый вариант установки — использовать набор инструментов [**MinGW**](https://ru.wikipedia.org/wiki/MinGW#Компоненты_MinGW). Помимо интерпретатора Bash он включает в себя [свободный набор компиляторов GCC](https://ru.wikipedia.org/wiki/GNU_Compiler_Collection). Для примеров этой книги будет достаточно компонента MinGW под названием MSYS (Minimal SYStem). Он предоставляет интерпретатор Bash, эмулятор терминала и [утилиты командной строки GNU](https://ru.wikipedia.org/wiki/GNU_Coreutils). Вместе эти компоненты составляют минимальное Unix-окружение.

Мы будем использовать версию Unix-окружения под названием [MSYS2](https://www.msys2.org). Перед установкой MSYS2 уточните разрядность вашей версии Windows. Для этого выполните следующее:

1. Если на вашем рабочем столе есть иконка "Компьютер", нажмите на неё правой кнопкой мыши и выберите пункт "Свойства".

2. Если на рабочем столе нет иконки "Компьютер", нажмите кнопку "Пуск", найдите в открывшемся меню пункт "Компьютер" и по правой кнопке мыши выберите "Свойства".

3. В открывшемся окне "Система" найдите пункт "Тип системы" как на иллюстрации 2-1.

{caption: "Иллюстрация 2-1. Тип системы"}
![Тип системы](images/BashShell/windows-system-type.png)

Теперь вы готовы к установке MSYS2. Выполните следующие шаги:

1. Загрузите установщик MSYS2 с [официального сайта](https://www.msys2.org). Обратите внимание на версию установщика:
  * Если ваша Windows-система 32-разрядная, загрузите файл `msys2-i686-20190524.exe`. 

  * Для 64-разрядной Windows, вам нужен файл `msys2-x86_64-20190524.exe`.

  * Число `20190524` в имени файла означает номер версии MSYS2. Она может отличаться в вашем случае.

2. Запустите установщик. Откроется окно, как на иллюстрации 2-2.

{caption: "Иллюстрация 2-2. Диалог установки MSYS2", height: "30%"}
![Диалог установки](images/BashShell/msys2-install.png)

3. Нажмите кнопку "Next" (далее). В новом окне (см. иллюстрацию 2-3) выберите [**путь**](https://ru.wikipedia.org/wiki/Путь_к_файлу) установки и нажмите кнопку "Next".

{caption: "Иллюстрация 2-3. Выбор пути установки", height: "30%"}
![Процесс установки](images/BashShell/msys2-path.png)

4. Следующее окно предлагает вам выбрать имя приложения для меню "Пуск". Оставьте его без изменений и нажмите "Next". После этого начнётся процесс установки.

5. После завершения установки закройте окно установщика нажатием на кнопку "Finish" (завершить).

Unix-окружение MSYS2 установлено на ваш жёсткий диск. Его файлы находятся в каталоге `C:\msys64`, если вы оставили путь установки по умолчанию. Перейдите в этот каталог и запустите приложение `msys2.exe`. Откроется окно интерпретатора командной строки Bash как на иллюстрации 2-4.

{caption: "Иллюстрация 2-4. Окно интерпретатора командной строки Bash", height: "20%"}
![Окно Bash](images/BashShell/bash-window.png)

Второй вариант установки Bash — использовать Unix-окружение от Microsoft под названием [Windows подсистема для Linux](https://ru.wikipedia.org/wiki/Windows_Subsystem_for_Linux) (Windows subsystem for Linux или WSL).  Это окружение доступно только для Windows 10. На более ранних версиях ОС оно не заработает. Инструкция установки WSL доступна на [официальном сайте](https://docs.microsoft.com/ru-ru/windows/wsl/install-win10).

Пользователям Linux и macOS устанавливать Bash не надо. Он доступен в этих системах по умолчанию.

Чтобы открыть окно интерпретатора Bash в Linux, достаточно нажать комбинацию клавиш Ctrl+Alt+T.

Для запуска Bash в macOS выполните следующие действия:

1. Запустите программу поиска Spotlight. Для этого нажмите на иконку лупы в правом верхнем углу экрана.

2. Появится диалог, в котором надо ввести текст "Terminal".

3. В открывшемся списке приложений щелкните на первой строчке с именем "Terminal".

### Эмулятор терминала

После запуска приложения `msys2.exe` откроется окно эмулятора терминала. [**Эмулятор**](https://ru.wikipedia.org/wiki/Эмуляция) — это программа, которая имитирует поведение другой программы, ОС или устройства. Эмуляторы нужны для совместимости. Например, вы хотите запустить Windows-программу на Linux. Для этого на Linux систему надо установить эмулятор Windows-окружения под названием [Wine](https://ru.wikipedia.org/wiki/Wine). Wine предоставляет собственную реализацию системных библиотек Windows. Благодаря эмулятору, Windows-программа сможет работать на Linux.

Эмулятор терминала также решает задачу совместимости. Приложения с интерфейсом командной строки предназначены для работы через устройство терминал. Сегодня это устройство нигде не используется. Его вытеснили персональные компьютеры и ноутбуки. Чтобы запустить программу, работающую только через терминал, вам нужен эмулятор терминала. Благодаря эмулятору, программа сможет передавать команды в командную оболочку и выводить на экран результат их исполнения.

Иллюстрация 2-5 демонстрирует взаимодействие устройств ввода-вывода, эмулятора терминала, оболочки и программы.

{caption: "Иллюстрация 2-5. Роль эмулятора терминала", height: "25%"}
![Эмулятора Терминала](images/BashShell/terminal-emulator.png)

В окне терминала сразу после запуска выводятся две строчки (см. иллюстрацию 2-4):
{line-numbers: false}
```
ilya.shpigor@DESKTOP-1NBVQM4 MSYS ~
$
```

Первая строка начинается с имени пользователя. В моём случае это `ilya.shpigor`. Далее через символ `@` следует имя компьютера: `DESKTOP-1NBVQM4`. Его можно изменить в настройках Windows. Затем через пробел идёт слово `MSYS`. Это название платформы, на которой запущен Bash. В конце строки стоит символ `~`. Это **абсолютный путь** до текущего каталога. Остановимся на этом пункте подробнее.

Есть два типа путей до объектов файловой системы: абсолютные и относительные. С первыми вы сталкиваетесь при навигации по файловой системе через Проводник Windows. Абсолютным называется путь к одному и тому же объекту файловой системы вне зависимости от текущего каталога. **Относительный путь** напротив указывается по отношению к текущему каталогу.

Относительные пути короче абсолютных. Поэтому их быстрее набирать и они чаще используются в командных интерпретаторах. Есть простое правило, чтобы отличить тип пути в Unix-окружении. Если он начинается с символа `/` (например, `/c/Windows/system32`), перед вами абсолютный путь. Если же путь начинается с имени каталога (например, `Windows/system32`), то он относительный.